// Generated by CoffeeScript 1.6.3
var GroupRegistrationView,
  __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };

GroupRegistrationView = (function() {
  function GroupRegistrationView(group) {
    var _this = this;
    this.group = group;
    this.render = __bind(this.render, this);
    this.group = {};
    window.groupRegistrationSubmit = function() {
      return _this.submission();
    };
  }

  GroupRegistrationView.prototype.submission = function() {
    this.extractData();
    return this.group.submit();
  };

  GroupRegistrationView.prototype.render = function() {
    var form, options;
    form = UI.getLabel('groupName', 'Group Name');
    form += UI.getTextInput('groupName', this.group.groupName);
    form += UI.nl();
    form += UI.getLabel('branchName', 'Branch');
    options = {
      'ho': 'Head Office',
      'pl': 'Premier League',
      'ch': 'Championship',
      'le': 'League 1',
      'll': 'La Liga',
      'bn': 'Bundesliga'
    };
    form += UI.getSelection('branchName', options, this.group.branchName);
    form += UI.nl();
    form += UI.getLabel('loanOfficer', 'Loan Officer');
    options = {};
    form += UI.getSelection('loanOfficer', options, this.group.loanOfficer);
    form += UI.nl();
    form += UI.getLabel('registrationNumber', 'Registration Number');
    form += UI.getTextInput('registrationNumber', this.group.registrationNumber);
    form += UI.nl();
    form += UI.getLabel('meetingLocation', 'Meeting Location');
    form += UI.getTextInput('meetingLocation', this.group.meetingLocation);
    form += UI.nl();
    form += UI.getLabel('meetingDays', 'Meeting Days');
    options = {
      'mo': 'Monday',
      'tu': 'Tuesday',
      'we': 'Wednesday',
      'th': 'Thursday',
      'fr': 'Friday',
      'sa': 'Saturday',
      'su': 'Sunday'
    };
    form += UI.getSelection('meetingDays', options, this.group.meetingDays);
    form += UI.getLabel('meetingFrequency', 'Meeting Frequency');
    options = {
      'w': 'Weekly',
      'f': 'Fortnightly',
      'm': 'Monthly'
    };
    form += UI.getSelection('meetingFrequency', options, this.group.meetingFrequency);
    form += UI.nl();
    return form += UI.getSubmit('Submit', 'groupRegistrationSubmit');
  };

  GroupRegistrationView.prototype.extractData = function() {
    this.group.GroupInformation.groupName = $('#groupName').val();
    this.group.GroupInformation.branchName = $('#branchName :selected').val();
    this.group.GroupInformation.loanOfficer = $('#loanOfficer :selected').val();
    this.group.GroupInformation.registrationNumber = $('#registrationNumber').val();
    this.group.GroupInformation.meetingLocation = $('#meetingLocation').val();
    this.group.GroupInformation.meetingDays = $('#meetingDays :selected').val();
    return this.group.GroupInformation.meetingFrequency = $('#meetingFrequency :selected').val();
  };

  return GroupRegistrationView;

})();
